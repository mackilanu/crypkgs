.\" Man page for format of the manpath.config data file
.\"
.\" Copyright (C) 1994, 1995 Graeme W. Wilford. (Wilf.)
.\" Copyright (C) 2001-2019 Colin Watson.
.\"
.\" You may distribute under the terms of the GNU General Public
.\" License as specified in the file docs/COPYING.GPLv2 that comes with the
.\" man-db distribution.
.\"
.\" Sat Oct 29 13:09:31 GMT 1994  Wilf. (G.Wilford@ee.surrey.ac.uk)
.\"
.pc ""
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH MANPATH 5 2024-04-05 2.12.1 /etc/man_db.conf
.SH НАЗВАНИЕ
manpath \- формат файла /etc/man_db.conf
.SH ОПИСАНИЕ
Файл настройки manpath используется утилитами справочных страниц для доступа
к пользовательским manpath во время работы; в нём определено какие иерархии
справочных страниц (manpath) считать системными иерархиями, а также для них
назначены каталоги хранения cat файлов.

Если установлена переменная окружения $\fBMANPATH\fP, то информация из
/etc/man_db.conf использоваться не будет.
.SH "ПУТЬ ПОИСКА"
ПО умолчанию, man\-db проверяет $\fBPATH\fP пользователя. Для каждого найденного
там \fIэлемента_пути\fP, она добавляет \fIэлемент_manpath\fP в путь поиска.

Если в файле настроек нет строки \fBMANPATH_MAP\fP для данного
\fIэлемента_пути\fP, то в путь поиска добавляются \fIэлемент_пути/../man\fP,
\fIэлемент_пути/man\fP, \fIэлемент_пути/../share/man\fP и
\fIэлемент_пути/share/man\fP, если они существуют в виде каталогов.

После этого в путь поиска добавляются все элементы \fBMANDATORY_MANPATH\fP из
файла настроек.

И, наконец, если указан параметр \fB\-\-systems\fP или задана переменная
окружения $\fBSYSTEM\fP, то они должны состоять из последовательности имён
операционных систем, разделённых запятыми или двоеточиями. Их значения
служат шаблонами, расширяющими путь поиска ещё больше, предоставляя доступ к
справочным страницам других операционных систем: для каждого имени системы,
man\-db ищет подкаталог с таким именем в каждом элементе пути поиска, и если
он существует, то добавляет его в окончательный путь поиска. Системное имя
\fBman\fP вставляется в обычный путь поиска без подкаталогов. Например. если
имеется путь поиска \fI/usr/share/man:/usr/local/man\fP, и $\fBSYSTEM\fP равна
\fInewOS:man\fP, то окончательный путь поиска будет
\fI/usr/share/man/newOS:/usr/share/man:/usr/local/man/newOS:/usr/local/man\fP.

Переменная окружения $\fBMANPATH\fP заменяет в man\-db пути поиска страниц по
умолчанию. Большинству пользователей не требуется её задавать. Её синтаксис
похож на переменную окружения $\fBPATH\fP: значение состоит из
последовательности имён каталогов, разделённых двоеточиями. Оно заменяет
путь поиска по умолчанию, описанное выше.

Если значение $\fBMANPATH\fP начинается с двоеточия, то оно добавляется в конец
пути поиска по умолчанию. Если значение $\fBMANPATH\fP оканчивается двоеточием,
то оно добавляется в начало пути поиска по умолчанию. Если значение
$\fBMANPATH\fP содержит два двоеточия подряд (\fB::\fP), то путь поиска по
умолчанию вставляется в середину значения между этими двоеточиями.
.SH ФОРМАТ
В данный момент распознаются следующие типы полей:
.TP 
\fB#\fP\fI\ комментарий\fP
Пустые или начинающиеся с \fB#\fP строки считаются комментариями и
игнорируются.
.TP 
\fBMANDATORY_MANPATH\fP\fI\ manpath_элемент\fP
Строки в этом формате содержат manpath, которые каждый раз генерируются
автоматически для включения в $\fBMANPATH\fP. Обычно, сюда включается
\fI/usr/man\fP.
.TP 
\fBMANPATH_MAP\fP\fI\ элемент_пути\ manpath_элемент\fP
Строки в этом формате содержат отображение $\fBPATH\fP в $\fBMANPATH\fP. Для
каждого \fIэлемента_пути\fP, найденного в пользовательском $\fBPATH\fP, в
$\fBMANPATH\fP будет добавляться \fImanpath_элемент\fP.
.TP 
\fBMANDB_MAP \fP\fImanpath_элемент \fP\|[\| \fIcatpath_элемент\fP \|]
Строки в этом формате определяют, какие manpath должны считаться системными
manpath, а также можно задать для каких из них нужно хранить cat файлы. Этот
тип поля особенно важен, если \fBman\fP является setuid программой, так как
(когда задаются в системном файле настройки /etc/man_db.conf, а не в
персональном файле настройки пользователя .manpath) им определяется, к каким
иерархиям справочных страниц имеет доступ setuid пользователь, а какие
вызываются из\-под обычного пользователя.

Системные иерархии справочных страниц обычно хранятся в подкаталогах
\fI/usr\fP, например, \fI/usr/man\fP, \fI/usr/local/man\fP и \fI/usr/X11R6/man\fP.

Если cat страницы из определённого \fImanpath_элемента\fP не нужно хранить, или
они будут храниться в обычном месте, то \fIcatpath_элемент\fP можно не
указывать.

Традиционное размещение cat страниц было бы невозможным для смонтированных
только на чтение каталогов иерархий справочных страниц, и поэтому возможно
определить любую рабочую иерархию каталогов для их хранения. Допустимый
каталог можно найти поиском в \fBLinux FSSTND\fP по ключевому слову \fBFSSTND\fP.

К сожалению, требуется указать \fBвсе\fP пути системных справочных страниц,
включая пути альтернативных операционных систем, такие как \fI/usr/man/sun\fP и
все пути \fBлокалей NLS\fP, например \fI/usr/man/de_DE.88591\fP.

Так как информация обрабатывается последовательно строка за строкой в
порядке хранения, необходимо все manpath, которые являются субиерархиями
другой иерархии, указывать в начале, иначе поиск может быть
некорректным. Например, \fI/usr/man/de_DE.88591\fP должно быть указано раньше,
чем \fI/usr/man\fP.
.TP 
\fBDEFINE\fP\fI\ ключ\ значение\fP
Строки в этом формате определяют различные переменные настройки; в файле
настройки по умолчанию описаны переменные, которые используются утилитами
пейджера справочных страниц. Они могут содержать пути по умолчанию к
различным программам (например, \fIgrep\fP и \fItbl\fP) и параметры по умолчанию
для этих программ.
.TP 
\fBSECTION\fP \fIраздел\fP .\|.\|.
.RS
Строки данного формата определяют порядок поиска в справочных разделах. Если
в файле настройки директивы \fBSECTION\fP не указаны, то по умолчанию
используется:
.PP
.RS
.nf
.if  !'po4a'hide' SECTION 1 n l 8 3 0 2 3type 5 4 9 6 7
.fi
.RE
.PP
Если указано несколько директив \fBSECTION\fP, то их значения объединяются в
список.
.PP
Если какого\-то расширения не окажется в этом списке (например, 1mh), то
страница будет показана вместе с оставшимся разделом, которому
принадлежит. Смысл этого в том, что нужно указывать только расширения, для
которых вы бы хотели жёстко задать определённый порядок. Разделы с
расширениями, как правило, указываются рядом с их основным разделом
(например, "1 1mh 8 ...").
.PP
В качестве альтернативного имени этой директивы может использоваться
\fBSECTIONS\fP.
.RE
.TP 
\fBMINCATWIDTH\fP\fI\ ширина\fP
Если ширина терминала меньше чем \fIширина\fP, то cat страницы создаваться
(если их нет) или отображаться не будут. Значение по умолчанию равно 80.
.TP 
\fBMAXCATWIDTH\fP\fI\ ширина\fP
Если ширина терминала больше чем \fIширина\fP, то cat страницы создаваться
(если их нет) или отображаться не будут. Значение по умолчанию равно 80.
.TP 
\fBCATWIDTH\fP\fI\ ширина\fP
Если значение \fIширина\fP не равно 0, то cat страницы будут всегда
форматироваться для терминала данной ширины, независимо от ширины терминала,
который используется на самом деле. Это значение заменяет \fBMINCATWIDTH\fP и
\fBMAXCATWIDTH\fP.
.TP 
.if  !'po4a'hide' .B NOCACHE
Этот параметр запрещает \fBman\fP(1) автоматически создавать cat страницы.
.SH ОШИБКИ
Если точно не следовать правилам, описанным ранее, то утилиты пейджера
справочных страниц не будут работать как ожидалось. Правила чрезмерно
запутаны.
.PP
.if  !'po4a'hide' https://gitlab.com/man-db/man-db/-/issues
.br
.if  !'po4a'hide' https://savannah.nongnu.org/bugs/?group=man-db
